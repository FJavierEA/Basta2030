/* ===== CSS ESPECÍFICO PARA HD 1280x720 ===== */
/* Carga automática via responsive-manager.js */

/* RESOLUCIÓN HD READY - SIN SCROLL */
.game-area {
  grid-template-columns: 110px 110px 1fr 40px 260px;
  grid-template-rows: auto auto minmax(190px, auto); /* Reducido de 200px a 190px */
  padding: 10px 10px 5px 10px;
  gap: 6px;
}

/* RULETA - Tamaño reducido para HD 720p */
.container { width: 380px; height: 380px; }
.outer-ring { width: 360px; height: 360px; }
.sections-wheel { width: 95px; height: 95px; }
.ring-wheel { width: 145px; height: 145px; }
.wheel { width: 45px; height: 45px; }

/* CARTAS - Muy pequeñas pero funcionales */
.card { 
  width: 130px; 
  height: 190px; 
  font-size: 6px; 
}
.player-hand .card { width: 140px; height: 200px; }
.played-cards-container .card { width: 110px; height: 160px; }

/* Colores pasteles para cartas Netbook 1024x600 */
.card[data-section="poverty"] { border-color: #E88888 !important; }
.card[data-section="hunger"] { border-color: #E8BB88 !important; }
.card[data-section="health"] { border-color: #BBE888 !important; }
.card[data-section="education"] { border-color: #88E8BB !important; }
.card[data-section="gender"] { border-color: #88E8E8 !important; }
.card[data-section="environment"] { border-color: #88BBE8 !important; }
.card[data-section="consumption"] { border-color: #BB88E8 !important; }
.card[data-section="institutions"] { border-color: #E888BB !important; }

/* Imágenes de cartas Netbook 1024x600 - proporción 4:5 */
.card .card-image {
  display: block !important;
  position: absolute;
  bottom: 8px;
  left: 8px;
  width: 114px; /* 130px - 16px padding */
  height: 143px; /* 114px × 5/4 = 142.5px ≈ 143px */
  object-fit: contain;
  z-index: 1;
  opacity: 0.9;
}

.player-hand .card .card-image {
  width: 124px; /* 140px - 16px padding */
  height: 155px; /* 124px × 5/4 = 155px */
}

.played-cards-container .card .card-image {
  width: 94px; /* 110px - 16px padding */
  height: 118px; /* 94px × 5/4 = 117.5px ≈ 118px */
}

#turnMessage { 
top: 20px;
  left: 230px;
  font-size: 10px; 
  padding: 6px 28px; 
  border-radius: 12px;
}

#message { 
    top: 50px;
  left: 230px;
  font-size: 8px; 
  padding: 4px 24px; 
}

/* PANELES - Muy compactos para HD */
.players-list-panel { 
    position: fixed;
  top: 150px;
  left: 10px;
  width: 170px; 
  font-size: 4px;
  padding: 2px;
}

.info-panel-left { 
  width: 320px; 
  font-size: 12px;
}

.side-panel-left {
  position: fixed;
  top: 0;
  left: -550px;
  width: 350px;
  height: 100%;
  font-size: 12px;
}

/* PANEL PLEGABLE - Sistema de cadena vertical para info-panel-left */
.info-panel-left { 
  position: fixed !important;
  top: 20px;
  right: 20px; /* Posición fija en la esquina superior derecha */
  width: 40px; /* Mismo ancho que el toggle */
  font-size: 12px;
  background: transparent;
  padding: 0;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  align-items: center; /* Centrar todos los elementos */
  gap: 5px;
  grid-area: none !important; /* Anular el grid area para usar posición fija */
}

/* Botón toggle en la posición original */
.panel-toggle-btn {
  width: 30px;
  height: 30px;
  background: linear-gradient(135deg, #6802bb, #ca04ca);
  border: none;
  border-radius: 8px;
  color: white;
  font-size: 14px;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  order: -1; /* Siempre arriba */
  position: relative;
}

.panel-toggle-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 16px rgba(0,0,0,0.6);
}

/* Mensaje de ayuda apuntando al toggle */
.panel-toggle-btn::before {
  content: '¡Haz click aquí! →';
  position: absolute;
  right: 55px; /* Al lado izquierdo del botón */
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0, 0, 0, 0.9);
  color: #fff;
  padding: 6px 10px;
  border-radius: 8px;
  font-size: 8px;
  font-weight: bold;
  white-space: nowrap;
  box-shadow: 0 4px 12px rgba(0,0,0,0.5);
  animation: pulseHelp 2s infinite ease-in-out;
  z-index: 1002;
}

/* Animación pulsante para llamar la atención */
@keyframes pulseHelp {
  0%, 100% {
    opacity: 0.8;
    transform: translateY(-50%) scale(1);
  }
  50% {
    opacity: 1;
    transform: translateY(-50%) scale(1.05);
  }
}

/* Ocultar mensaje cuando el panel está expandido */
.info-panel-left.expanded .panel-toggle-btn::before {
  display: none;
}

/* Botones del panel - ocultos por defecto, posicionados debajo del toggle */
.info-panel-left .info-btn,
.info-panel-left .music-toggle {
  opacity: 0;
  transform: translateY(-20px) scale(0.8);
  visibility: hidden;
  transition: all 0.3s ease;
  transition-delay: 0s;
  margin-top: -5px; /* Superponer ligeramente para efecto de cadena */
}

/* Animación de despliegue - cada botón aparece debajo del anterior */
.info-panel-left.expanded .info-btn:nth-child(1) {
  opacity: 1;
  transform: translateY(0) scale(1);
  visibility: visible;
  transition-delay: 0.1s;
  margin-top: 0;
}

.info-panel-left.expanded .info-btn:nth-child(2) {
  opacity: 1;
  transform: translateY(0) scale(1);
  visibility: visible;
  transition-delay: 0.2s;
  margin-top: 0;
}

.info-panel-left.expanded .info-btn:nth-child(3) {
  opacity: 1;
  transform: translateY(0) scale(1);
  visibility: visible;
  transition-delay: 0.3s;
  margin-top: 0;
}

.info-panel-left.expanded .info-btn:nth-child(4) {
  opacity: 1;
  transform: translateY(0) scale(1);
  visibility: visible;
  transition-delay: 0.4s;
  margin-top: 0;
}

.info-panel-left.expanded .info-btn:nth-child(5) {
  opacity: 1;
  transform: translateY(0) scale(1);
  visibility: visible;
  transition-delay: 0.5s;
  margin-top: 0;
}

.info-panel-left.expanded .music-toggle {
  opacity: 1;
  transform: translateY(0) scale(1);
  visibility: visible;
  transition-delay: 0.6s;
  margin-top: 0;
}

.info-btn {
  position: relative;
  cursor: pointer;
  padding: 0;
  background: linear-gradient(135deg, #6802bb, #ca04ca);
  border: none;
  border-radius: 8px;
  transition: all 0.3s ease;
  width: 30px !important; /* Mismo tamaño que el toggle */
  height: 30px !important; /* Mismo tamaño que el toggle */
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

.info-btn:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 16px rgba(0,0,0,0.6);
}

/* Music toggle con el mismo tamaño */
.info-panel-left .music-toggle {
  width: 40px !important;
  height: 40px !important;
  border-radius: 8px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

/* MAZO Y DESCARTADAS - Muy compactos */
.deck-container { 
  padding: 4px; 
}
.deck-container h3 { 
  font-size: 8px; 
  margin-bottom: 4px; 
}
.card-pile-container { 
  padding: 4px; 
}
.card-pile-container h3 { 
  font-size: 8px; 
  margin-bottom: 4px; 
}
.card-deck, .card-pile {
  width: 60px;
  height: 90px;
}
.deck-count, .pile-count {
  font-size: 9px;
  padding: 3px 6px;
}

.draw-button {
  margin-top: 5px; 
  width: 80%; 
  padding: 6px;
  background: linear-gradient(145deg, #4CAF50, #45a049);
  color: white; 
  border: none; 
  border-radius: 6px; 
  cursor: pointer; 
  font-weight: bold;
  font-size: 10px;
  transition: all 0.3s ease;
  white-space: nowrap;
}

/* MENSAJE DINÁMICO - Muy compacto */
#message { 
  font-size: 10px; 
  padding: 6px 10px; 
  border-radius: 4px;
  max-width: 220px;
}

/* LETRAS ANILLO INTERNO - Visibles y proporcionados */
.ring-label { 
  width: 20px; 
  margin-left: -10px; 
  font-size: 10px; 
  font-weight: 400;
  text-align: center;
  color: #fff;
}

/* IMÁGENES ANILLO EXTERNO - Acercadas al centro (sin cambiar tamaño) */
.outer-labels {
  transform: scale(0.70); /* Acerca las imágenes sin cambiar su tamaño individual */
}

/* CONTROLES - Al lado izquierdo de Cartas Jugadas */
.controls {
  position: fixed !important;
  top: 50%;
  right: 350px; /* Al lado izquierdo del área "Cartas Jugadas" */
  transform: translateY(-50%);
  width: 20px;
  display: flex !important;
  flex-direction: column !important;
  gap: 8px !important;
  padding: 0 !important;
  background: transparent !important;
  z-index: 999;
  grid-area: none !important; /* Anular grid area */
}

/* Orden específico de botones */
#skipTurnBtn {
  order: 1; /* Arriba: Saltar Turno */
}

#bellButton {
  order: 2; /* Medio: Tocar Campana */
}

#rollDiceBtn {
  order: 3; /* Abajo: Tirar Dado */
}

/* Ocultar imagen del dado en esta configuración */
.controls #diceImg {
  display: none;
}

.controls button {
  width: 80px !important;
  height: 40px !important;
  padding: 0 !important;
  font-size: 10px !important;
  border-radius: 6px;
  background: linear-gradient(135deg, #4f46e5, #7c3aed);
  border: none;
  color: white;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  line-height: 1;
}

.controls button:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}

.controls button:disabled {
  opacity: 0.5;
  background: #666;
  cursor: not-allowed;
}

/* Botón BASTA más destacado */
.bell-button {
  background: linear-gradient(135deg, #dc2626, #ef4444) !important;
  font-weight: bold !important;
}

/* TEXTO - Muy compacto */
.card-text { 
  padding: 3px; 
  line-height: 1.0;
  backdrop-filter: blur(0.5px);
  position: relative;
  z-index: 3;
}

/* ELEMENTOS ESPECÍFICOS - Ajustados al nuevo layout */
.bell-button { 
  width: 50px !important; 
  height: 35px !important; 
  font-size: 12px !important; 
  background: linear-gradient(135deg, #dc2626, #ef4444) !important;
}

.player-hand {
  max-height: none;
  overflow: visible;
}

.played-cards-container {
  max-height: 360px; /* Altura máxima reducida para HD */
  overflow-y: auto; /* Scroll vertical si hay muchas cartas */
  overflow-x: hidden;
  padding: 8px;
}

/* Área de cartas jugadas más compacta */
.played-area {
  max-height: 360px; /* Controlar altura total del área */
}

.played-area h3 {
  font-size: 10px;
  margin-bottom: 5px;
}

/* MODO APILADO - Mantener tamaño original para HD 1280x720 */
.player-hand.stacked .card {
  width: 120px !important; /* Mantener tamaño original de esta resolución */
  height: 170px !important; /* Mantener tamaño original de esta resolución */
  margin-left: -55px; /* Superposición para encimar sin reducir tamaño */
}

.player-hand.stacked .card:first-child {
  margin-left: 0; /* Primera carta sin margen */
}

.player-hand.stacked .card:hover {
  transform: translateY(-15px) scale(1.05) rotate(0deg) !important;
  margin-left: -55px;
  margin-right: 20px; /* Espacio extra al hacer hover */
}

/* Contador de cartas para apilado en HD */
.player-hand.stacked::after {
  font-size: 10px;
  padding: 3px 6px;
  top: 8px;
  right: 8px;
}

/* ===== Lobby ===== */
.lobby-overlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.95);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 10000;
  transition: opacity 0.3s ease;
}
.lobby-overlay.hidden {
  opacity: 0;
  pointer-events: none;
}
.lobby-card {
  background: linear-gradient(135deg, #1a1a2e, #16213e);
  padding: 20px;
  border-radius: 20px;
  box-shadow: 0 10px 40px rgba(0,0,0,0.5);
  max-width: 300px;
  width: 70%;
  text-align: center;
}
.lobby-card h1 {
  font-size: 40px;
  margin-bottom: 8px;
  background: linear-gradient(135deg, #4ade80, #3b82f6);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.lobby-card > p {
  font-size: 14px;
  color: #9ca3af;
  margin-bottom: 25px;
}
.lobby-register {
  display: flex;
  gap: 10px;
  margin-bottom: 20px;
}
.lobby-register input {
  flex: 1;
  padding: 10px;
  font-size: 12px;
  border: 2px solid #4ade80;
  border-radius: 8px;
  background: rgba(255,255,255,0.1);
  color: #fff;
}
.lobby-register button {
  padding: 10px 18px;
  font-size: 12px;
  font-weight: bold;
  background: linear-gradient(135deg, #4ade80, #3b82f6);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}
.lobby-register button:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(74, 222, 128, 0.4);
}
.cancel-btn {
  padding: 8px 18px;
  font-size: 12px;
  font-weight: bold;
  background: linear-gradient(135deg, #f87171, #dc2626) !important;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
}
.lobby-players {
  margin-bottom: 10px;
}
.lobby-players h3 {
  color: #fff;
  margin-bottom: 6px;
}
.lobby-players ul {
  list-style: none;
  padding: 0;
}
.lobby-players li {
  padding: 6px;
  margin: 5px 0;
  background: rgba(255,255,255,0.1);
  border-radius: 8px;
  font-size: 12px;
}

.change-name-btn {
  padding: 6px 10px;
  font-size: 10px;
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  margin-top: 8px;
}

.change-name-btn:hover {
  background: linear-gradient(135deg, #2563eb, #1d4ed8);
  transform: translateY(-1px);
}
/* Botones de chat del lobby */
.lobby-chat-buttons {
  display: flex;
  gap: 15px;
  justify-content: center;
  margin: 10px 0;
}

.chat-btn {
  padding: 8px 18px;
  font-size: 10px;
  font-weight: bold;
  background: linear-gradient(135deg, #4ade80, #3b82f6);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 5px;
}

.chat-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(74, 222, 128, 0.4);
}

/* Botón de música en el lobby */
.lobby-chat-buttons .music-toggle {
  padding: 8px 18px;
  font-size: 14px;
  font-weight: bold;
  background: linear-gradient(135deg, #4ade80, #3b82f6);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  gap: 5px;
  position: static;
  width: auto;
  height: auto;
  box-shadow: none;
}

.lobby-chat-buttons .music-toggle:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(74, 222, 128, 0.4);
}

.lobby-chat-buttons .music-toggle.playing {
  background: linear-gradient(135deg, #10b981, #22c55e);
}

.lobby-chat-buttons .music-toggle.muted {
  background: linear-gradient(135deg, #6b7280, #4b5563);
}

.lobby-chat-buttons .music-toggle::before {
  display: none;
}

/* Botón de abandonar partida del lobby */
.leave-game-btn {
  padding: 8px 18px;
  font-size: 12px;
  font-weight: bold;
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  margin: 10px 0;
  display: flex;
  align-items: center;
  gap: 5px;
  justify-self: center;
  align-self: center;
}

.leave-game-btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);
  background: linear-gradient(135deg, #dc2626, #b91c1c);
}

.lobby-msg {
  font-size: 12px;
}